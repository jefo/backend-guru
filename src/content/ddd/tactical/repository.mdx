---
# === –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ===
title: "–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (Repository)"
description: "–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–æ–ª–µ–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ —Å–ª–æ–π –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –û–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏."

# === –¢–∞–∫—Å–æ–Ω–æ–º–∏—è –∏ –ù–∞–≤–∏–≥–∞—Ü–∏—è ===
section: "ddd"
category: "tactical"

# === –í–∏–∑—É–∞–ª ===
cover: "/images/patterns/repository-cover.svg"

# === –°–≤—è–∑–∏ ===
related:
  - "aggregate"
  - "entity"
  - "value-object"
  - "anemic-model"

# === –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ ===
published: true
lastUpdated: "2024-05-21"
---

# –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (Repository)

### ü§ï –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –º—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ–º—Å—è —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö: –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∞–π–ª–æ–≤, –≤–Ω–µ—à–Ω–∏—Ö API. –ë–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–ª—å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
- **–°–º–µ—à–∏–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å –∫–æ–¥–æ–º –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º** ‚Äî SQL-–∑–∞–ø—Ä–æ—Å—ã –≤ –±–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å–∞—Ö
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –±–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–æ–¥—É–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º** ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–º–µ–Ω—ã —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ë–î –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:

```typescript
// –ü–ª–æ—Ö–æ - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–º–µ—à–∞–Ω–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –¥–∞–Ω–Ω—ã–º
class OrderService {
  constructor(private database: Database) {}
  
  async processOrder(customerId: string, items: any[]): Promise<void> {
    // SQL –ø—Ä—è–º–æ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ!
    const customerRow = await this.database.query(
      'SELECT * FROM customers WHERE id = ?', 
      [customerId]
    );
    
    if (!customerRow || !customerRow.is_active) {
      throw new Error('Customer not found or inactive');
    }
    
    // –ë–æ–ª—å—à–µ SQL...
    const orderId = await this.database.query(
      'INSERT INTO orders (customer_id, status) VALUES (?, ?)',
      [customerId, 'pending']
    );
    
    // –ï—â–µ –±–æ–ª—å—à–µ SQL...
    for (const item of items) {
      await this.database.query(
        'INSERT INTO order_items (order_id, product_id, quantity) VALUES (?, ?, ?)',
        [orderId, item.productId, item.quantity]
      );
    }
  }
}
```

### üí° –†–µ—à–µ–Ω–∏–µ

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (Repository) ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–æ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Å–∫—Ä—ã–≤–∞—è –¥–µ—Ç–∞–ª–∏ –∏—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è. –û–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–µ–∂–¥—É –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö.

–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

1. **–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞**: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤–µ–¥–µ—Ç —Å–µ–±—è –∫–∞–∫ –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏
2. **–î–æ–º–µ–Ω–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: –ú–µ—Ç–æ–¥—ã –≤—ã—Ä–∞–∂–µ–Ω—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞—Ö –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
3. **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è**: –°–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
4. **–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
5. **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**: –û—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –æ–¥–Ω–∏–º —Ç–∏–ø–æ–º –∞–≥—Ä–µ–≥–∞—Ç–∞

### ‚öôÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```mermaid
classDiagram
    class CustomerRepository {
        <<interface>>
        +findById(id: CustomerId): Promise<Customer>
        +findByEmail(email: Email): Promise<Customer>
        +save(customer: Customer): Promise<void>
        +delete(id: CustomerId): Promise<void>
    }
    
    class SqlCustomerRepository {
        -database: Database
        +findById(id: CustomerId): Promise<Customer>
        +findByEmail(email: Email): Promise<Customer>
        +save(customer: Customer): Promise<void>
        +delete(id: CustomerId): Promise<void>
    }
    
    class InMemoryCustomerRepository {
        -customers: Map<CustomerId, Customer>
        +findById(id: CustomerId): Promise<Customer>
        +findByEmail(email: Email): Promise<Customer>
        +save(customer: Customer): Promise<void>
        +delete(id: CustomerId): Promise<void>
    }
    
    class CustomerService {
        -customerRepository: CustomerRepository
        +registerCustomer(email: Email, profile: CustomerProfile)
        +updateCustomerEmail(id: CustomerId, email: Email)
    }
    
    CustomerRepository <|.. SqlCustomerRepository
    CustomerRepository <|.. InMemoryCustomerRepository
    CustomerService --> CustomerRepository
```

### üë®‚Äçüíª –ü—Ä–∏–º–µ—Ä –≤ –∫–æ–¥–µ

import CodeExample from '../../../components/CodeExample.astro';
import AnnotatedCode from '../../../components/AnnotatedCode.astro';
import ResourceLinks from '../../../components/ResourceLinks.astro';

<CodeExample
  title="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è"
  description="–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Repository."
  basicCode={`
// –ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
interface CustomerRepository {
  findById(id: string): Promise<Customer | null>;
  findByEmail(email: string): Promise<Customer | null>;
  save(customer: Customer): Promise<void>;
  delete(id: string): Promise<void>;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ä–≤–∏—Å–µ
class CustomerService {
  constructor(private customerRepo: CustomerRepository) {}
  
  async updateEmail(id: string, newEmail: string): Promise<void> {
    const customer = await this.customerRepo.findById(id);
    if (!customer) throw new Error('Customer not found');
    
    customer.changeEmail(newEmail);
    await this.customerRepo.save(customer);
  }
}
`}
  advancedCode={`
// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –¥–æ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
export interface CustomerRepository {
  findById(id: CustomerId): Promise<Customer | null>;
  findByEmail(email: Email): Promise<Customer | null>;
  save(customer: Customer): Promise<void>;
  delete(id: CustomerId): Promise<void>;
  
  // –î–æ–º–µ–Ω–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  findActiveCustomersInRegion(region: string): Promise<Customer[]>;
  findCustomersByRegistrationDate(from: Date, to: Date): Promise<Customer[]>;
}

export class CustomerService {
  constructor(private customerRepository: CustomerRepository) {}

  async registerCustomer(email: Email, profile: CustomerProfile): Promise<CustomerId> {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å email
    const existing = await this.customerRepository.findByEmail(email);
    if (existing) throw new Error('Email already exists');
    
    // –°–æ–∑–¥–∞–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º
    const customer = Customer.create(email, profile);
    await this.customerRepository.save(customer);
    
    return customer.id;
  }
}
`}
  fullCode={`
// –ü–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
export interface CustomerRepository {
  // –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  findById(id: CustomerId): Promise<Customer | null>;
  findByEmail(email: Email): Promise<Customer | null>;
  save(customer: Customer): Promise<void>;
  delete(id: CustomerId): Promise<void>;
  
  // –î–æ–º–µ–Ω–Ω–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
  findActiveCustomersInRegion(region: string): Promise<Customer[]>;
  findCustomersByRegistrationDate(from: Date, to: Date): Promise<Customer[]>;
  findCustomersWithOrdersAbove(amount: Money): Promise<Customer[]>;
  
  // –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
  findAll(page: number, limit: number): Promise<PaginatedResult<Customer>>;
  findBySpecification(spec: Specification<Customer>): Promise<Customer[]>;
}

export interface OrderRepository {
  findById(id: OrderId): Promise<Order | null>;
  findByCustomerId(customerId: CustomerId): Promise<Order[]>;
  findDraftOrdersByCustomer(customerId: CustomerId): Promise<Order[]>;
  save(order: Order): Promise<void>;
  delete(id: OrderId): Promise<void>;
  
  // –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
  getTotalOrdersCount(): Promise<number>;
  getOrdersInDateRange(from: Date, to: Date): Promise<Order[]>;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Application Service
export class OrderApplicationService {
  constructor(
    private orderRepository: OrderRepository,
    private customerRepository: CustomerRepository
  ) {}

  async placeOrder(command: PlaceOrderCommand): Promise<OrderResult> {
    const customer = await this.customerRepository.findById(command.customerId);
    if (!customer) throw new Error('Customer not found');
    
    if (!customer.canPlaceOrder()) {
      throw new Error('Customer cannot place orders');
    }
    
    const order = Order.create(command.customerId, command.items);
    await this.orderRepository.save(order);
    
    return new OrderResult(order.id);
  }
}
`}
/>

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è SQL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

<AnnotatedCode
  code={`export class SqlCustomerRepository implements CustomerRepository {
  constructor(private database: Database) {}

  async findById(id: CustomerId): Promise<Customer | null> {
    const row = await this.database.queryOne(
      'SELECT * FROM customers WHERE id = ?',
      [id.value]
    );
    
    if (!row) return null;
    return this.mapRowToCustomer(row);
  }

  async save(customer: Customer): Promise<void> {
    const exists = await this.findById(customer.id);
    
    if (exists) {
      await this.update(customer);
    } else {
      await this.insert(customer);
    }
  }

  private mapRowToCustomer(row: any): Customer {
    const customerId = new CustomerId(row.id);
    const email = new Email(row.email);
    const profile = new CustomerProfile(row.first_name, row.last_name);
    
    const customer = new Customer(customerId, email, profile);
    
    if (!row.is_active) {
      customer.deactivate();
    }
    
    return customer;
  }
}`}
  annotations={[
    { 
      line: 1, 
      text: "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–º —Å–ª–æ–µ. –î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ." 
    },
    { 
      line: 9, 
      text: "–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç –≤ –ë–î, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º null –≤–º–µ—Å—Ç–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è - —ç—Ç–æ —á–∞—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏." 
    },
    { 
      line: 13, 
      text: "–ü–∞—Ç—Ç–µ—Ä–Ω 'Insert or Update' - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å." 
    },
    { 
      line: 22, 
      text: "–ú–∞–ø–ø–∏–Ω–≥ –∏–∑ –ë–î –≤ –¥–æ–º–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç - –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å–∫—Ä—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è." 
    },
    { 
      line: 28, 
      text: "–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö - —Å—É—â–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –≤–∞–ª–∏–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏." 
    }
  ]}
/>

### In-Memory —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤

<CodeExample
  title="In-Memory —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
  description="–ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É."
  basicCode={`
class InMemoryCustomerRepository implements CustomerRepository {
  private customers = new Map<string, Customer>();

  async findById(id: CustomerId): Promise<Customer | null> {
    return this.customers.get(id.value) || null;
  }

  async save(customer: Customer): Promise<void> {
    this.customers.set(customer.id.value, customer);
  }

  async delete(id: CustomerId): Promise<void> {
    this.customers.delete(id.value);
  }

  // –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
  clear(): void {
    this.customers.clear();
  }
}
`}
  advancedCode={`
export class InMemoryCustomerRepository implements CustomerRepository {
  private customers = new Map<string, Customer>();

  async findById(id: CustomerId): Promise<Customer | null> {
    return this.customers.get(id.value) || null;
  }

  async findByEmail(email: Email): Promise<Customer | null> {
    for (const customer of this.customers.values()) {
      if (customer.email.equals(email)) {
        return customer;
      }
    }
    return null;
  }

  async save(customer: Customer): Promise<void> {
    // –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Å–µ—Ä–∏–∑–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    const customerCopy = this.cloneCustomer(customer);
    this.customers.set(customer.id.value, customerCopy);
  }

  async findActiveCustomersInRegion(region: string): Promise<Customer[]> {
    const result: Customer[] = [];
    
    for (const customer of this.customers.values()) {
      if (customer.isActive && customer.address.region === region) {
        result.push(customer);
      }
    }
    
    return result;
  }

  // –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
  clear(): void { this.customers.clear(); }
  size(): number { return this.customers.size; }
}
`}
  fullCode={`
export class InMemoryCustomerRepository implements CustomerRepository {
  private customers = new Map<string, Customer>();

  async findById(id: CustomerId): Promise<Customer | null> {
    return this.customers.get(id.value) || null;
  }

  async findByEmail(email: Email): Promise<Customer | null> {
    for (const customer of this.customers.values()) {
      if (customer.email.equals(email)) {
        return customer;
      }
    }
    return null;
  }

  async save(customer: Customer): Promise<void> {
    // –°–æ–∑–¥–∞–µ–º –≥–ª—É–±–æ–∫—É—é –∫–æ–ø–∏—é –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Å–µ—Ä–∏–∑–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    const customerCopy = this.cloneCustomer(customer);
    this.customers.set(customer.id.value, customerCopy);
  }

  async delete(id: CustomerId): Promise<void> {
    this.customers.delete(id.value);
  }

  async findActiveCustomersInRegion(region: string): Promise<Customer[]> {
    const result: Customer[] = [];
    
    for (const customer of this.customers.values()) {
      if (customer.isActive && customer.address.region === region) {
        result.push(customer);
      }
    }
    
    return result;
  }

  async findCustomersByRegistrationDate(from: Date, to: Date): Promise<Customer[]> {
    const result: Customer[] = [];
    
    for (const customer of this.customers.values()) {
      if (customer.registrationDate >= from && customer.registrationDate <= to) {
        result.push(customer);
      }
    }
    
    return result;
  }

  // –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
  clear(): void {
    this.customers.clear();
  }

  size(): number {
    return this.customers.size;
  }

  getAllCustomers(): Customer[] {
    return Array.from(this.customers.values());
  }

  private cloneCustomer(customer: Customer): Customer {
    // –ü—Ä–æ—Å—Ç–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ - –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ
    return new Customer(
      customer.id,
      customer.email,
      customer.profile,
      customer.address
    );
  }
}
`}
/>

### üèóÔ∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

```typescript
export class CustomerService {
  constructor(
    private customerRepository: CustomerRepository,
    private emailService: EmailService
  ) {}

  async registerNewCustomer(
    email: Email,
    profile: CustomerProfile,
    address: Address
  ): Promise<CustomerId> {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ –∫–ª–∏–µ–Ω—Ç —Å —Ç–∞–∫–∏–º email
    const existingCustomer = await this.customerRepository.findByEmail(email);
    if (existingCustomer) {
      throw new Error('Customer with this email already exists');
    }

    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
    const customer = Customer.create(email, profile, address);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —á–µ—Ä–µ–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    await this.customerRepository.save(customer);

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ
    await this.emailService.sendWelcomeEmail(customer.email, customer.profile.firstName);

    return customer.id;
  }

  async updateCustomerEmail(customerId: CustomerId, newEmail: Email): Promise<void> {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–ª–∏–µ–Ω—Ç–∞
    const customer = await this.customerRepository.findById(customerId);
    if (!customer) {
      throw new Error('Customer not found');
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∑–∞–Ω—è—Ç –ª–∏ –Ω–æ–≤—ã–π email
    const customerWithEmail = await this.customerRepository.findByEmail(newEmail);
    if (customerWithEmail && !customerWithEmail.id.equals(customerId)) {
      throw new Error('Email already in use');
    }

    // –í—ã–ø–æ–ª–Ω—è–µ–º –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏—é
    customer.changeEmail(newEmail);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
    await this.customerRepository.save(customer);
  }

  async getActiveCustomersInRegion(region: string): Promise<Customer[]> {
    return await this.customerRepository.findActiveCustomersInRegion(region);
  }
}
```

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏

```typescript
describe('CustomerService', () => {
  let customerService: CustomerService;
  let customerRepository: InMemoryCustomerRepository;
  let emailService: jest.Mocked<EmailService>;

  beforeEach(() => {
    customerRepository = new InMemoryCustomerRepository();
    emailService = {
      sendWelcomeEmail: jest.fn()
    } as any;
    
    customerService = new CustomerService(customerRepository, emailService);
  });

  describe('registerNewCustomer', () => {
    it('should create and save new customer', async () => {
      // Arrange
      const email = new Email('john@example.com');
      const profile = new CustomerProfile('John', 'Doe');
      const address = new Address('123 Main St', 'NYC', '10001', 'USA');

      // Act
      const customerId = await customerService.registerNewCustomer(email, profile, address);

      // Assert
      expect(customerId).toBeDefined();
      
      const savedCustomer = await customerRepository.findById(customerId);
      expect(savedCustomer).toBeTruthy();
      expect(savedCustomer!.email.equals(email)).toBe(true);
      expect(emailService.sendWelcomeEmail).toHaveBeenCalledWith(email, 'John');
    });

    it('should throw error when email already exists', async () => {
      // Arrange
      const email = new Email('john@example.com');
      const existingCustomer = Customer.create(
        email,
        new CustomerProfile('Jane', 'Doe'),
        new Address('456 Oak St', 'LA', '90001', 'USA')
      );
      await customerRepository.save(existingCustomer);

      // Act & Assert
      await expect(
        customerService.registerNewCustomer(
          email,
          new CustomerProfile('John', 'Doe'),
          new Address('123 Main St', 'NYC', '10001', 'USA')
        )
      ).rejects.toThrow('Customer with this email already exists');
    });
  });
});
```

### üìê –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

#### 1. Specification Pattern –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```typescript
// –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –ø–æ–∏—Å–∫–∞
export interface Specification<T> {
  isSatisfiedBy(item: T): boolean;
  and(other: Specification<T>): Specification<T>;
  or(other: Specification<T>): Specification<T>;
}

export class ActiveCustomerSpecification implements Specification<Customer> {
  isSatisfiedBy(customer: Customer): boolean {
    return customer.isActive;
  }

  and(other: Specification<Customer>): Specification<Customer> {
    return new AndSpecification(this, other);
  }

  or(other: Specification<Customer>): Specification<Customer> {
    return new OrSpecification(this, other);
  }
}

export class CustomerInRegionSpecification implements Specification<Customer> {
  constructor(private region: string) {}

  isSatisfiedBy(customer: Customer): boolean {
    return customer.address.region === this.region;
  }
  
  // and() –∏ or() –º–µ—Ç–æ–¥—ã...
}

// –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
export interface CustomerRepository {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã
  findBySpecification(spec: Specification<Customer>): Promise<Customer[]>;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const activeInNYSpec = new ActiveCustomerSpecification()
  .and(new CustomerInRegionSpecification('NY'));

const customers = await customerRepository.findBySpecification(activeInNYSpec);
```

#### 2. Unit of Work –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

```typescript
export interface UnitOfWork {
  begin(): Promise<void>;
  commit(): Promise<void>;
  rollback(): Promise<void>;
  
  // –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
  customers(): CustomerRepository;
  orders(): OrderRepository;
}

export class DatabaseUnitOfWork implements UnitOfWork {
  private transaction?: DatabaseTransaction;
  
  constructor(private database: Database) {}

  async begin(): Promise<void> {
    this.transaction = await this.database.beginTransaction();
  }

  async commit(): Promise<void> {
    if (this.transaction) {
      await this.transaction.commit();
      this.transaction = undefined;
    }
  }

  async rollback(): Promise<void> {
    if (this.transaction) {
      await this.transaction.rollback();
      this.transaction = undefined;
    }
  }

  customers(): CustomerRepository {
    return new SqlCustomerRepository(this.transaction || this.database);
  }

  orders(): OrderRepository {
    return new SqlOrderRepository(this.transaction || this.database);
  }
}
```

### ‚úÖ –ü—Ä–∏–∑–Ω–∞–∫–∏ —Ö–æ—Ä–æ—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

- **–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞**: –º–µ—Ç–æ–¥—ã –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ä–∞–±–æ—Ç—É —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –≤ –ø–∞–º—è—Ç–∏
- **–î–æ–º–µ–Ω–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å**: –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –æ—Ç—Ä–∞–∂–∞—é—Ç –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–∏
- **–û–¥–∏–Ω –∞–≥—Ä–µ–≥–∞—Ç –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: –∫–∞–∂–¥—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–¥–Ω–∏–º —Ç–∏–ø–æ–º –∫–æ—Ä–Ω—è –∞–≥—Ä–µ–≥–∞—Ç–∞
- **–°–∫—Ä—ã—Ç–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π**: –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –∑–Ω–∞—é—Ç –æ SQL, MongoDB, Redis –∏ —Ç.–¥.
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞—Ç—å in-memory —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

### üö® –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### 1. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```typescript
// –ü–ª–æ—Ö–æ - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
interface GenericRepository<T> {
  find(id: string): Promise<T>;
  save(entity: T): Promise<void>;
  delete(id: string): Promise<void>;
  findAll(): Promise<T[]>;
}
```

#### 2. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ DAO

```typescript
// –ü–ª–æ—Ö–æ - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—á–∞ SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
class CustomerRepository {
  async findCustomersWithOrdersAboveAmount(amount: number): Promise<any[]> {
    return await this.database.query(
      'SELECT c.* FROM customers c JOIN orders o ON c.id = o.customer_id WHERE o.total > ?',
      [amount]
    );
  }
}
```

#### 3. –£—Ç–µ—á–∫–∞ –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

```typescript
// –ü–ª–æ—Ö–æ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ –¥–æ–º–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
class CustomerRepository {
  async findById(id: string): Promise<CustomerDbRow> { // Database object!
    return await this.database.queryOne('SELECT * FROM customers WHERE id = ?', [id]);
  }
}
```

### üëç –ü–ª—é—Å—ã –∏ üëé –ú–∏–Ω—É—Å—ã

| –ü–ª—é—Å—ã | –ú–∏–Ω—É—Å—ã |
|-------|--------|
| –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã | –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –∫–ª–∞—Å—Å–æ–≤ |
| –£–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –º–æ–∫-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | –í–æ–∑–º–æ–∂–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö CRUD –æ–ø–µ—Ä–∞—Ü–∏–π |
| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–µ–≥–∫–æ–π —Å–º–µ–Ω—ã —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å cross-aggregate –∑–∞–ø—Ä–æ—Å–∞–º–∏ |
| –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ | Potential performance implications –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ |
| –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID | –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ –º–µ–∂–¥—É –¥–æ–º–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö |

### üîÑ –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏

- **[–ê–≥—Ä–µ–≥–∞—Ç](/ddd/tactical/aggregate)**: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–æ—Ä–Ω—è–º–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤, –∞ –Ω–µ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏
- **[–°—É—â–Ω–æ—Å—Ç—å](/ddd/tactical/entity)**: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –ø–æ –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º
- **[–û–±—ä–µ–∫—Ç-–∑–Ω–∞—á–µ–Ω–∏–µ](/ddd/tactical/value-object)**: –û–±—ä–µ–∫—Ç—ã-–∑–Ω–∞—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ —á–∞—Å—Ç—å —Å—É—â–Ω–æ—Å—Ç–µ–π
- **Unit of Work**: –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- **Specification**: –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–∏—Å–∫–∞ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–û–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –∫–æ—Ä–µ–Ω—å –∞–≥—Ä–µ–≥–∞—Ç–∞**: –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—É—â–Ω–æ—Å—Ç–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã**: `findActiveCustomersInRegion()` –≤–º–µ—Å—Ç–æ `findByIsActiveTrueAndRegion()`
3. **–í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –¥–æ–º–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã**: –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é
4. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ in-memory —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤**: —ç—Ç–æ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **–ù–µ –¥–µ–ª–∞–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**: –∫–∞–∂–¥—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è —Å–≤–æ–µ–≥–æ –∞–≥—Ä–µ–≥–∞—Ç–∞
6. **–ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—á–∏ SQL —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–µ—Ç–æ–¥—ã —Å –≥–æ–≤–æ—Ä—è—â–∏–º–∏ –∏–º–µ–Ω–∞–º–∏
7. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ async/await**: —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥

<ResourceLinks
  resources={[
    {
      title: "Patterns of Enterprise Application Architecture",
      url: "https://www.amazon.com/Patterns-Enterprise-Application-Architecture-Martin/dp/0321127420",
      description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∫–Ω–∏–≥–∞ –ú–∞—Ä—Ç–∏–Ω–∞ –§–∞—É–ª–µ—Ä–∞ - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Repository",
      type: "book"
    },
    {
      title: "Domain-Driven Design: Tackling Complexity",
      url: "https://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215",
      description: "–≠—Ä–∏–∫ –≠–≤–∞–Ω—Å –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ DDD",
      type: "book"
    },
    {
      title: "Repository Pattern in DDD",
      url: "https://enterprisecraftsmanship.com/posts/repository-pattern-vs-dao/",
      description: "–î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ Repository –∏ DAO –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤",
      type: "article"
    },
    {
      title: "CQRS and Event Sourcing with Repository",
      url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ",
      description: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Repository –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ CQRS",
      type: "video"
    },
    {
      title: "Specification Pattern Implementation",
      url: "https://github.com/dotnet-architecture/eShopOnContainers",
      description: "–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Specification pattern —Å Repository –≤ .NET",
      type: "repo"
    },
    {
      title: "Testing with Repository Pattern",
      url: "https://martinfowler.com/articles/mocksArentStubs.html",
      description: "–ú–∞—Ä—Ç–∏–Ω –§–∞—É–ª–µ—Ä –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–∫–æ–≤ –∏ —Å—Ç–∞–±–æ–≤",
      type: "article"
    }
  ]}
/>

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî —ç—Ç–æ –º–æ—Å—Ç –º–µ–∂–¥—É –≤–∞—à–µ–π –±–æ–≥–∞—Ç–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –∏ –º–∏—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–µ–ª–∞–µ—Ç –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –æ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.