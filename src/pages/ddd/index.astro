---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import CategoryCard from "../../components/CategoryCard.astro";

// Get all DDD entries
const dddEntries = await getCollection("ddd");

// Group entries by category
const basicEntries = dddEntries
  .filter((entry) => entry.data.category === "basic")
  .map((entry) => ({
    title: entry.data.title,
    slug: entry.slug,
    description: entry.data.description,
  }));

const strategicEntries = dddEntries
  .filter((entry) => entry.data.category === "strategic")
  .map((entry) => ({
    title: entry.data.title,
    slug: entry.slug,
    description: entry.data.description,
  }));

const tacticalEntries = dddEntries
  .filter((entry) => entry.data.category === "tactical")
  .map((entry) => ({
    title: entry.data.title,
    slug: entry.slug,
    description: entry.data.description,
  }));

const uncategorizedEntries = dddEntries
  .filter((entry) => !entry.data.category)
  .map((entry) => ({
    title: entry.data.title,
    slug: entry.slug,
    description: entry.data.description,
  }));
---

<Layout title="Domain-Driven Design - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ì—É—Ä—É">
  <main>
    <h1>Domain-Driven Design (DDD)</h1>
    <p class="description">
      Domain-Driven Design ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è,
      –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ª–æ–∂–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–∏
      –±–æ–≥–∞—Ç–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –æ—Ç—Ä–∞–∂–∞—é—â–µ–π —Ä–µ–∞–ª—å–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã.
    </p>

    <div class="ddd-overview">
      <div class="overview-card">
        <div class="overview-icon">üéØ</div>
        <h3>–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –¥–æ–º–µ–Ω</h3>
        <p>–§–æ–∫—É—Å –Ω–∞ –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω–µ, –∞ –Ω–µ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª—è—Ö</p>
      </div>

      <div class="overview-card">
        <div class="overview-icon">üó£Ô∏è</div>
        <h3>–ï–¥–∏–Ω—ã–π —è–∑—ã–∫</h3>
        <p>–û–±—â–∏–π —è–∑—ã–∫ –º–µ–∂–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏ —ç–∫—Å–ø–µ—Ä—Ç–∞–º–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</p>
      </div>

      <div class="overview-card">
        <div class="overview-icon">üß©</div>
        <h3>–ë–æ–≥–∞—Ç–∞—è –º–æ–¥–µ–ª—å</h3>
        <p>–°–æ–∑–¥–∞–Ω–∏–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–æ–º–µ–Ω–∞ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º</p>
      </div>

      <div class="overview-card">
        <div class="overview-icon">üîç</div>
        <h3>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</h3>
        <p>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —á–∞—Å—Ç–∏</p>
      </div>
    </div>

    <CategoryCard
      title="–û—Å–Ω–æ–≤—ã DDD"
      description="–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã Domain-Driven Design"
      patterns={basicEntries}
      color="#4caf50"
      icon="üìö"
    />

    <CategoryCard
      title="–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã"
      description="–ü–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –∏ –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–æ–¥–æ–±–ª–∞—Å—Ç—è–º–∏ —Å–∏—Å—Ç–µ–º—ã"
      patterns={strategicEntries}
      color="#2196f3"
      icon="üåê"
    />

    <CategoryCard
      title="–¢–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã"
      description="–ü–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"
      patterns={tacticalEntries}
      color="#9c27b0"
      icon="‚öôÔ∏è"
    />

    {
      uncategorizedEntries.length > 0 && (
        <CategoryCard
          title="–î—Ä—É–≥–∏–µ —Å—Ç–∞—Ç—å–∏"
          description="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ Domain-Driven Design"
          patterns={uncategorizedEntries}
          color="#607d8b"
          icon="üìù"
        />
      )
    }
  </main>
</Layout>

<style>
  main {
    margin: auto;
    padding: 1rem;
    max-width: 1200px;
  }

  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: #333;
  }

  .description {
    font-size: 1.2rem;
    margin-bottom: 2rem;
    color: #555;
    line-height: 1.6;
  }

  .ddd-overview {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1.5rem;
    margin: 3rem 0;
  }

  .overview-card {
    padding: 1.5rem;
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
    text-align: center;
  }

  .overview-icon {
    font-size: 2.5rem;
    margin-bottom: 1rem;
  }

  .overview-card h3 {
    margin: 0 0 0.5rem;
    font-size: 1.2rem;
    color: #333;
  }

  .overview-card p {
    margin: 0;
    color: #666;
    font-size: 0.95rem;
  }

  @media (prefers-color-scheme: dark) {
    h1 {
      color: #e0e0e0;
    }

    .description {
      color: #ccc;
    }

    .overview-card {
      background-color: #1e1e2e;
    }

    .overview-card h3 {
      color: #e0e0e0;
    }

    .overview-card p {
      color: #aaa;
    }
  }

  @media (max-width: 768px) {
    .ddd-overview {
      grid-template-columns: repeat(2, 1fr);
    }

    h1 {
      font-size: 2.2rem;
    }
  }

  @media (max-width: 480px) {
    .ddd-overview {
      grid-template-columns: 1fr;
    }
  }
</style>
